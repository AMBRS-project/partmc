
Add n_time == 0 check to extract_state_*.

Write dlnr to screen from extract_*_aero_size_*.

Combine output_sectional and output_state_netcdf into output.f90?

Trying to write out/file.nc gives useless error if out doesn't exist.

Remove ASCII state output, or at least rename to output_state_ascii.

Remove process_spec.f90
Remove output_processed.f90
Remove output_state.f90
Rename output_state_netcdf.f90 to output_state.f90
Add output_summary.f90

Add extract_particle_mass or extract_particle_data or similar.

Make aero_state_input_netcdf() handle zero paricle case.

Remove restart capability from run_mc.f90

Change output state variable aero_comp_mass to aero_particle_mass to
distinguish it from aero_comp_vol.

Change gas_concentration to gas_molar_ratio, etc. Then change mass
density to mass concentration, etc.

Array constructors for mosaic_species -- is it true that these all
have to have the same length?

Sometimes cmake seems to rebuild even if no source files have changed
at all?

Add gnuplot scripts for all testcases and remove plot.py.

Input fractions only by mass (no volume, etc).

Change error messages in inout.f90 to use die_msg().

Memory allocation policy should be that all functions must be called
with an already allocated structure. That is, always call type_alloc()
before calling anything else. The functions will call type_free() if
they need to before writing new data, or will take care of
(de)allocation internally. Currently at least the spec_read functions
don't free before setting new values and should be fixed.

Add allow_halve to control that separately.

Re-add generation of dependency graph.

Shift interfaces into modules. Especially kernel interface to
kernel.f90, to avoid having to include all the various kernel_*
modules everywhere.

=======================================

Add entrainment switch.

Change gas conc from ppb to mole proportion.

Add implicit, adaptive timestepping for the condensation ODE solver.

Implement a better poisson distribution generator. We should probably
generate a poisson sample per-bin, rather than doing a total sample
and then using a slow sampling to pick samples one-by-one.

Add separate del_t for mosaic, coag, and cond. Check on input that
t_output, etc are multiples of del_t so that the n_time header
information is actually correct.

aero_binned is really storing #/dln(m)/m^3 or something?

Use mpi_sizeof() to get the sizes for reals, logicals, etc. There are
also functions called MPI_Sizeof1DR8 for a 1D array of real*8,
etc. What about 2D arrays, is it correct to treat them as 1D as we do
at present with mpi_pack?

Change gas mixing to be by diffusion, rather than allreduce, also env.

Add env%day_of_year (days since jan 1) and env%time_of_day (secs since
midnight) and shift info on start day, start time, etc to
env_data. Change mosaic_timestep() to just read time/day info out of
env directly. Update this info in env_data_update_state().

Allow times to be input as 1d, 34m, etc. No unit implies seconds.

Add H2O as a gas species and just track it as a regular gas, getting
rid of relative humidity in env. add a relative_humidity(env,
gas_data, gas_state) function.

Fix local variable sections to always be all integers, then all reals,
etc, with only one "integer ::" and then & for the rest of the lines.

Change spec_read_aero_data to spec_read_aero_data_filename and pass in
the name, and similar spec_read_*.

Use switch/case rather than elseif chains?

Fix calling convention for aerosol_optical from mosaic.f90. Do we do
it every timestep, or just when needed, or what? What about
coagulation? Does this come in the right order?

Maybe generate initial number of particles from a Poisson
distribution, rather than just using the mean as we do now?

Fix MPI so it works again.

Change gas_state_add(), gas_state_sub(), gas_state_scale(), etc, to
just be gas_state_daxpy(), and for other structures.

Change bins to have r_min, r_max as edges, not centers.
