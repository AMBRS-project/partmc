<html>
<head><title>PartMC 1.2.0</title></head>
<body bgcolor="#ffffff">
<h1>PartMC</h1>

<p>PartMC - Particle-resolved Monte Carlo code for atmospheric aerosol simulation</p>

<p>Version 1.2.0 <br />
Released 2008-02-17</p>

<p><a href="http://lagrange.mechse.uiuc.edu/mwest/partmc/">http://lagrange.mechse.uiuc.edu/mwest/partmc/</a></p>

<p>Copyright (C) 2005-2009 Nicole Riemer and Matthew West <br />
Portions copyright (C) Andreas Bott and Richard Easter <br />
Licensed under the GNU General Public License version 2 or (at your
option) any later version. <br />
For details see the file COPYING or
<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a>.</p>

<h1>Dependencies</h1>

<p>Required dependencies:</p>

<ul>
<li>Fortran 90 compiler</li>
<li>cmake - <a href="http://www.cmake.org/">http://www.cmake.org/</a></li>
<li>NetCDF - <a href="http://www.unidata.ucar.edu/software/netcdf/">http://www.unidata.ucar.edu/software/netcdf/</a></li>
</ul>

<p>Optional dependencies:</p>

<ul>
<li>MOSAIC - Available from Rahul Zaveri - <a href="&#109;&#97;&#x69;&#x6c;&#x74;&#111;&#58;R&#x61;&#x68;&#x75;&#108;&#x2e;&#90;&#97;&#118;&#x65;&#114;&#105;&#x40;&#x70;&#x6e;&#108;&#46;&#x67;o&#118;">R&#x61;&#x68;&#x75;&#108;&#x2e;&#90;&#97;&#118;&#x65;&#114;&#105;&#x40;&#x70;&#x6e;&#108;&#46;&#x67;o&#118;</a></li>
</ul>

<p>PartMC can be compiled out-of-the-box on Fedora 10 with all
dependencies except MOSAIC if the following packages are installed:</p>

<ul>
<li>gcc-gfortran-4.3.2-7</li>
<li>cmake-2.6.2-3.fc10</li>
<li>netcdf-4.0.0-1.fc10</li>
</ul>

<h1>Installation</h1>

<p>In principle PartMC should compile under any modern OS. Testing has
mainly been under Linux and OS X. The quick-start instructions under
Linux are:</p>

<ol>
<li><p>Unpack PartMC with something like:
 tar xzvf partmc-1.2.0.tar.gz</p></li>
<li><p>Change into the main PartMC directory (where this README file is
located) with something like:
 cd partmc-1.2.0</p></li>
<li><p>Make a directory called <code>build</code> and change into it:
 mkdir build
 cd build</p></li>
<li><p>Run cmake with (note the double-c):
 ccmake ..</p></li>
<li><p>Inside ccmake press <code>c</code>, edit the values as needed, press <code>c</code>
again, then <code>g</code>.</p></li>
<li><p>Compile PartMC and test it:
make
make test</p></li>
</ol>

<p>The NetCDF libraries are required to compile PartMC. The <code>netcdf.mod</code>
Fortran 90 module file is required, and it must be produced by the
same compiler being used to compile PartMC.</p>

<p>PartMC can interface to the MOSAIC chemistry code (see above for
availability) but this is not enabled by default. To use MOSAIC, set
the <code>ENABLE_MOSAIC</code> variable to <code>ON</code> in cmake. The
<code>MOSAIC_INCLUDE_DIR</code> variable should be the location of the MOSAIC
module files (compiled with the same compiler), probably ending in
<code>mosaic/datamodules</code>. The <code>MOSAIC_LIB</code> variable should end in
something like <code>mosaic/libmosaic.a</code>.</p>

<h1>Usage</h1>

<p>The main <code>partmc</code> command reads <code>.spec</code> files and does the run
specified therein. Either Monte Carlo runs, sectional code runs, or
exact solutions can be generated. A run can produce binned summary
data in NetCDF format, or full per-particle state data in either
NetCDF or ASCII format. The extract_* programs in the tool/ directory
can read either summary or full-state NetCDF files and serve as
examples for processing the data.</p>

<h1>Coding Conventions</h1>

<p>The code is mainly Fortran 90, with a few parts still clearly showing
their Fortran 77 heritage.</p>

<p>Extensive use is made of Fortran 90 derived types and pointers for
dynamic memory allocation of arrays inside derived types. Derived
types are named <code>my_type_t</code> and are generally defined in modules named
<code>pmc_mod_my_type</code> within files named <code>my_type.f90</code>. Each derived type
has allocation and deallocation functions <code>my_type_alloc()</code> and
<code>my_type_free()</code>, respectively.</p>

<p>Module names are always the same as the name of the containing file,
but prefixed with <code>pmc_mod_</code>. Thus the module <code>pmc_mod_condensation</code>
is contained in the file <code>condensation.f90</code>.</p>

<h1>ChangeLog</h1>

<p>1.2.0 - XXXX-XX-XX</p>

<ul>
<li><p>Output of full per-particle data in NetCDF format.</p></li>
<li><p><code>urban_plume</code> test-case added, as described in the paper
<a href="http://arxiv.org/abs/0809.0875">http://arxiv.org/abs/0809.0875</a></p></li>
<li><p>Build system switched to <code>cmake</code>.</p></li>
</ul>

<p>1.1.0 - 2008-02-17</p>

<ul>
<li><p>Internal reorganization to use Fortran 90 derived types for the
data structures.</p></li>
<li><p>Integration with the MOSAIC gas- and aerosol-chemistry code.</p></li>
<li><p>Output is in binary NetCDF format.</p></li>
<li><p>Parallel implementation using 1D mixing.</p></li>
</ul>

<p>1.0.0 - 2007-02-26</p>

<ul>
<li>First release, including hierarchical coagulation and full water
condensation.</li>
</ul>
</body></html>
